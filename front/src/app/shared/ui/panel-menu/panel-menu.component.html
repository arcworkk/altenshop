<p-menu [model]="items" styleClass="w-full">
    <ng-template pTemplate="end">
        @if (isLoggedIn) {
            <div class="flex flex-column md:flex-row align-items-center md:justify-content-between gap-2 p-2 w-full">
                <div class="flex align-items-center gap-2 p-2 md:p-0 w-full md:w-auto" style="min-width:0;">
                    <p-avatar icon="pi pi-user" size="large" shape="circle"></p-avatar>

                    <div class="flex flex-column line-height-1 w-full" style="min-width:0;">
                        <span class="font-bold" style="overflow:hidden; text-overflow:ellipsis; white-space:nowrap;">
                            {{ email }}
                        </span>
                        <span class="text-sm text-500" style="overflow:hidden; text-overflow:ellipsis; white-space:nowrap;">{{ role }}</span>
                    </div>
                </div>

                <p-button
                    icon="pi pi-sign-out"
                    (click)="logout()"
                    size="small"
                    [rounded]="true"
                    [styleClass]="'mt-2 md:mt-0'">
                </p-button>
            </div>
        }
    </ng-template>
</p-menu>