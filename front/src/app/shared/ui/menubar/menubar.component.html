<p-toolbar [style]="{ height: '100px' }">
    <div class="p-toolbar-group-start">
        <img src="assets/icons/icon-72x72.png" alt="logo" />
    </div>
    <div class="p-toolbar-group-center">
        {{ title }}
    </div>
    <div class="p-toolbar-group-end">
        <p-sidebar [(visible)]="cartVisible" [position]="'right'">
        <h3>Votre espace client</h3>
          <div>
            <p-accordion [multiple]="true" [activeIndex]="[0]">
                <p-accordionTab>
                  <ng-template pTemplate="header">
                    <span class="flex align-items-center gap-2 w-full">
                        <i class="pi pi-shopping-cart" style="font-size: 2rem">
                        </i>
                        <span class="font-bold white-space-nowrap">
                            Panier
                        </span>
                    </span>
                  </ng-template>
                  <div>
                    <div class="accordion-items">
                      @for (item of cart()?.items; track item.id) {
                        <div class="cart-item">
                          <div class="grid">
                            <p-button severity="success" icon="pi pi-plus" [text]="true" class="p-button-text col-2" (onClick)="increaseQuantity(item.product, item.quantity)" size="small"></p-button>
                              <div class="ml-2">
                                <p>{{ item.quantity }}</p>
                              </div>
                            <p-button severity="danger" icon="pi pi-trash" [text]="true" class="p-button-text col-2" (onClick)="decreaseQuantity(item.product, item.quantity)" size="small"></p-button>
                            <p class="col">
                              {{ item.product.name }} - {{ item.product.price | currency:'EUR':'symbol' }}
                            </p>
                          </div>
                        </div>
                      } @empty {
                        <p class="text-500">Votre panier est vide.</p>
                      }
                    </div>
                    <div class="mb-3">
                      Total : {{totalAmount() | currency:'EUR':'symbol'}}
                    </div>
                    <button class="checkout-btn">Passer Ã  la caisse</button>
                  </div>
                </p-accordionTab>
                <p-accordionTab>
                  <ng-template pTemplate="header">
                    <span class="flex align-items-center gap-2 w-full">
                        <i class="pi pi-heart" style="font-size: 2rem">
                        </i>
                        <span class="font-bold white-space-nowrap">
                            Liste d'envie
                        </span>
                    </span>
                  </ng-template>
                  <div>
                    <div class="accordion-items">
                      @for (product of wishlistItems; track product.id) {
                        <div class="whishlist-item">
                          <div class="grid">
                            <p-button severity="danger" icon="pi pi-trash" [text]="true" class="p-button-text col-2" (onClick)="updateWishlistItem(product.id)"></p-button>
                            <p class="col">
                              {{ product.name }} - {{ product.price | currency:'EUR':'symbol' }}
                            </p>
                          </div>
                        </div>
                      } @empty {
                        <p class="text-500">Votre liste d'envie est vide.</p>
                      }
                    </div>
                  </div>
                </p-accordionTab>
            </p-accordion>
          </div>
        </p-sidebar>
        
        <i class="pi pi-shopping-cart cursor-pointer"
            role="button" tabindex="0"
            (click)="openCart()"
            (keydown.enter)="openCart()"
            aria-label="Ouvrir le panier"
            style="font-size: 2rem">
        </i>
    </div>
</p-toolbar>